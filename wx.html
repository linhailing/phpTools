<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes" />
    <title>测试微信JS-SDK</title>
</head>
<body>
<h1>JS-SDK</h1>
<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script src="jquery-3.2.1.min.js"></script>
<script>
    let data = [];
    $.ajax({
        type:"get",
        url:"./WxPay.php",
        async:true,
        dataType: 'json',
        success:function (res) {
            console.log(res);
            data = res;
        }
    });
    console.log(data);
    setTimeout(function () {
        wx.config({
            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来
            appId: data['appId'], // 必填，公众号的唯一标识
            timestamp:data['timestamp'], // 必填，生成签名的时间戳
            nonceStr:  data['nonceStr'], // 必填，生成签名的随机串
            signature:  data['signature'],// 必填，签名，见附录1
            jsApiList: [] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
        });
    },1500);
</script>
</body>
</html>